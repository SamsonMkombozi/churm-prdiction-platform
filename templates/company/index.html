{% extends 'base.html' %}

{% block title %}Dashboard - ChurnPredict Pro{% endblock %}

{% block content %}
<div class="min-vh-100 d-flex align-items-center justify-content-center bg-light">
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-md-10">
                <!-- Welcome Card -->
                <div class="card shadow-lg mb-4">
                    <div class="card-body text-center py-5">
                        <i class="fas fa-chart-line fa-4x text-primary mb-4"></i>
                        <h1 class="display-4 mb-3">Welcome to {{ company.name }} CRM</h1>
                        <p class="lead text-muted mb-4">
                            {% if current_user.is_authenticated %}
                                Hello, {{ current_user.full_name }}!
                            {% endif %}
                        </p>
                        <p class="text-muted">
                            Your intelligent customer churn prediction platform
                        </p>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <div class="card border-left-primary">
                            <div class="card-body">
                                <h6 class="text-primary text-uppercase mb-1">Customers</h6>
                                <h3 class="mb-0">{{ stats.total_customers|number }}</h3>
                                <small class="text-muted">Total customers</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-3">
                        <div class="card border-left-info">
                            <div class="card-body">
                                <h6 class="text-info text-uppercase mb-1">Tickets</h6>
                                <h3 class="mb-0">{{ stats.total_tickets|number }}</h3>
                                <small class="text-muted">Support tickets</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-3">
                        <div class="card border-left-success">
                            <div class="card-body">
                                <h6 class="text-success text-uppercase mb-1">Payments</h6>
                                <h3 class="mb-0">{{ stats.total_payments|number }}</h3>
                                <small class="text-muted">Transactions</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-3">
                        <div class="card border-left-danger">
                            <div class="card-body">
                                <h6 class="text-danger text-uppercase mb-1">High Risk</h6>
                                <h3 class="mb-0">{{ stats.high_risk_customers|number }}</h3>
                                <small class="text-muted">At-risk customers</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-building fa-3x text-primary mb-3"></i>
                                <h5>Company Settings</h5>
                                <p class="text-muted small">Manage company information and CRM integration</p>
                                <a href="{{ url_for('company.settings') }}" class="btn btn-primary btn-sm">
                                    Go to Company <i class="fas fa-arrow-right ms-1"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-sync-alt fa-3x text-info mb-3"></i>
                                <h5>CRM Dashboard</h5>
                                <p class="text-muted small">View and sync customer data from CRM</p>
                                <a href="{{ url_for('crm.dashboard') }}" class="btn btn-info btn-sm">
                                    Open CRM <i class="fas fa-arrow-right ms-1"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-chart-bar fa-3x text-success mb-3"></i>
                                <h5>Analytics</h5>
                                <p class="text-muted small">View detailed analytics and reports</p>
                                <a href="{{ url_for('dashboard.analytics') }}" class="btn btn-success btn-sm">
                                    View Analytics <i class="fas fa-arrow-right ms-1"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

 
            </div>
        </div>
    </div>
</div>
{% endblock %}